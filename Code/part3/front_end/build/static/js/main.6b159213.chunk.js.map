{"version":3,"sources":["services/noteService.js","components/Persons.js","components/PersonForm.js","components/Filter.js","App.js","index.js"],"names":["baseURL","request","axios","get","console","log","then","response","data","newPerson","post","id","put","delete","res","Persons","persons","setPersons","map","person","i","key","name","number","onClick","window","confirm","NoteService","filter","catch","error","alert","handleDeletePerson","PersonForm","addPerson","handleNewName","handleNewNum","onSubmit","value","onChange","type","Filter","handleFilter","App","useState","newName","setNewName","newNum","setNewNum","newFilter","setFilter","listPersons","search","useEffect","initialPeople","target","event","preventDefault","idx","p","indexOf","newId","Math","max","personObj","noteService","concat","new_idx","refreshPeople","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6b159213.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseURL = 'api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseURL)\n    console.log(request.then(response => response.data))\n    return request.then(response => response.data)\n}\n\nconst create = (newPerson) => {\n    const request = axios.post(baseURL, newPerson)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    const request = axios.put(`${baseURL}/${id}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n    const req = axios.delete(`${baseURL}/${id}`);\n    return req.then(res => res.data);\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    deletePerson\n}","\nimport React from \"react\";\nimport NoteService from \"../services/noteService\"\n\n\nconst Persons = ({ persons, setPersons }) => {\n\n    const handleDeletePerson = (person) => {\n\n        const id = person.id\n        const name = person.name\n        const confirm = window.confirm(`Do you want to delete ${name}`)\n\n        if (confirm) {\n\n\n            NoteService.deletePerson(id)\n\n                .then(data =>\n                    setPersons(persons.filter(person => person.id !== id))\n                )\n\n                .catch(error => {\n                    alert(`Person ${name} was already deleted from the server`)\n\n                })\n        }\n    }\n\n    return (\n        <div>\n            {persons.map((person, i) => <li key={i}> {`${person.name} : ${person.number}`}\n                <button onClick={() => {\n                    handleDeletePerson(person, setPersons)\n                }}>\n                    Delete\n        </button>\n            </li>)}\n        </div>\n    )\n}\n\nexport default Persons;","import React from 'react'\n\nconst PersonForm = ({ addPerson, name, handleNewName, number, handleNewNum }) => {\n\n  return (\n\n    <form onSubmit={addPerson}>\n      <div>\n      \n        name: <input value={name}\n          onChange={handleNewName} />\n          \n        <br></br>\n        number: <input value={number}\n          onChange={handleNewNum} />\n      \n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n\n  )\n}\n\nexport default PersonForm;\n","import React from \"react\";\n\n\n\nconst Filter = ({ value, handleFilter }) => {\n    return (\n        <div>\n            Filter shown with:\n\n            <form>\n                <input value={value}\n                    onChange={handleFilter} />\n            </form>\n        </div>\n    )\n}\n\nexport default Filter;\n","import React, { useState, useEffect } from \"react\";\n\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from \"./components/Filter\";\nimport NoteService from \"./services/noteService\"\nimport noteService from \"./services/noteService\";\n\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNum, setNewNum] = useState('')\n  const [newFilter, setFilter] = useState('')\n\n  const listPersons = newFilter\n    ? persons.filter(person => person.name.search(newFilter) !== -1)\n    : persons;\n\n  // updating the state of newName, when \"box\" input changes\n  const handleNewName = (person) => {\n    setNewName(person.target.value)\n  }\n\n  const handleNewNum = (number) => {\n    setNewNum(number.target.value)\n  }\n\n  const handleFilter = (filter) => {\n    setFilter(filter.target.value)\n  }\n\n  useEffect(() => {\n    NoteService.getAll().then(initialPeople => {\n      setPersons(initialPeople)\n    })\n  }, [])\n\n\n  const addPerson = (event) => {\n\n    event.preventDefault();\n    const idx = persons.map(p => p.name).indexOf(newName);\n\n    if (idx === -1) {\n\n      const newId = Math.max(persons.map(p => p.id)) + 1 \n      const personObj = {\n        name: newName,\n        number: newNum,\n        id: newId\n      }\n\n      noteService.create(personObj).then(response => {\n        setPersons(persons.concat(personObj))\n        setNewName('')\n        setNewNum('')\n      })\n\n    } else {\n\n      var confirm = window.confirm(`${newName} is already added to phonebook, want to replace the old number with a new one`)\n      const new_idx = idx + 1 \n      \n      const personObj = {\n        name: newName,\n        number: newNum, \n        id: new_idx \n      }\n\n      if (confirm) {\n         \n        noteService.update(new_idx, personObj).then(response => {\n          setNewName('')\n          setNewNum('')\n        })\n\n        NoteService.getAll().then(refreshPeople => {\n          setPersons(refreshPeople)})\n        \n        console.log(persons)\n\n      }\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Filter value={newFilter} handleFilter={handleFilter} />\n\n      <h2> Add a New Person: </h2>\n      <PersonForm addPerson={addPerson} name={newName} handleNewName={handleNewName} number={newNum} handleNewNum={handleNewNum} />\n\n      <h2>Numbers</h2>\n      <Persons persons={listPersons} setPersons={setPersons} />\n\n    </div>\n  )\n}\n\nexport default App;\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}